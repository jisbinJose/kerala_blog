from django.core.management.base import BaseCommand
from django.contrib.auth.models import User
from blog_app.models import Blogger, Blog, Comment
from django.utils import timezone
import random

class Command(BaseCommand):
    help = 'Creates sample data for the blog application'

    def handle(self, *args, **kwargs):
        # Clear existing data
        Comment.objects.all().delete()
        Blog.objects.all().delete()
        Blogger.objects.all().delete()
        User.objects.filter(is_superuser=False).delete()

        # Create sample users and bloggers
        bloggers_data = [
            {
                'username': 'kerala_explorer',
                'email': 'explorer@example.com',
                'bio': 'Passionate about exploring the hidden gems of Kerala. Love to share my travel experiences and local insights.',
            },
            {
                'username': 'food_lover',
                'email': 'foodie@example.com',
                'bio': 'A food enthusiast documenting the rich culinary heritage of Kerala. From street food to traditional sadhya!',
            },
            {
                'username': 'culture_buff',
                'email': 'culture@example.com',
                'bio': 'Dedicated to preserving and sharing Kerala\'s rich cultural traditions, art forms, and festivals.',
            },
            {
                'username': 'nature_photographer',
                'email': 'photo@example.com',
                'bio': 'Capturing the breathtaking beauty of God\'s Own Country through my lens.',
            },
            {
                'username': 'history_buff',
                'email': 'history@example.com',
                'bio': 'Researching and writing about Kerala\'s fascinating history and heritage.',
            }
        ]

        # Create sample bloggers
        bloggers = []
        for blogger_data in bloggers_data:
            # Create user for each blogger
            user = User.objects.create_user(
                username=blogger_data['username'],
                email=blogger_data['email'],
                password='testpass123'
            )
            # Create blogger profile
            blogger = Blogger.objects.create(
                user=user,
                bio=blogger_data['bio']
            )
            bloggers.append(blogger)
            self.stdout.write(f'Created blogger: {blogger.user.username}')

        # Create sample blog posts
        blog_posts = [
            {
                'title': 'The Magic of Munnar Tea Gardens',
                'content': """Nestled in the Western Ghats, Munnar's tea gardens are a sight to behold. The endless stretches of emerald green tea plantations, misty mountains, and cool climate make it a paradise for nature lovers.

During my recent visit, I learned about the fascinating process of tea production, from plucking to processing. The local tea pickers shared stories of their daily lives and the heritage of tea cultivation in Kerala.""",
                'author': bloggers[0]
            },
            {
                'title': 'ഇടുക്കി: മലയുടെ മടിയിലെ സ്വർഗം',
                'content': """ഇടുക്കി, കേരളത്തിലെ ഏറ്റവും മനോഹരമായ ഹില്‍ സ്റ്റേഷനുകളില്‍ ഒന്നാണ്. ഇടുക്കി ജലവൈദ്യുത പദ്ധതി, മൂന്നാറ്, ഇടുക്കി വന്യജീവി സങ്കേതം തുടങ്ങിയവ ഇടുക്കിയിലെ പ്രധാന ആകർഷണങ്ങളാണ്.""",
                'author': bloggers[0]
            },
            {
                'title': 'മൂന്നാറും മീനുമുട്ടി ജലവൈദ്യുത പദ്ധതിയും',
                'content': """മൂന്നാറിലെ ജലവൈദ്യുത പദ്ധതി കേരളത്തിലെ ഏറ്റവും വലിയ ജലവൈദ്യുത പദ്ധതികളില്‍ ഒന്നാണ്. മൂന്നാറിന്റെ പ്രകൃതി സൗന്ദര്യം അതിശയിക്കുന്നതാണ്.""",
                'author': bloggers[1]
            },
            {
                'title': 'ഇടുക്കി വന്യജീവി സങ്കേതം',
                'content': """ഇടുക്കി വന്യജീവി സങ്കേതം കേരളത്തിലെ ഏറ്റവും വലിയ വന്യജീവി സങ്കേതമാണ്. ഇവിടെ നിരവധി വന്യജീവികളെ കാണാന്‍ സാധിക്കും.""",
                'author': bloggers[2]
            },
            {
                'title': 'ഇടുക്കി ആർക്ക് ഡാം',
                'content': """ഇടുക്കി ആർക്ക് ഡാം ഏഷ്യയിലെ ഏറ്റവും വലിയ ആർക്ക് ഡാമാണ്. ഇത് ഇടുക്കി ജലവൈദ്യുത പദ്ധതിയുടെ ഭാഗമാണ്. ഡാമിന്റെ സൗന്ദര്യം അതിശയിക്കുന്നതാണ്.

1976-ൽ പൂർത്തിയായ ഈ ഡാം 550 അടി ഉയരവും 650 അടി നീളവുമുള്ള ഒരു അതിശയകരമായ എഞ്ചിനീയറിംഗ് അത്ഭുതമാണ്. പെരിയാർ, മുദിരാപ്പുഴ എന്നീ നദികൾക്കിടയിലുള്ള ഒരു കുന്നിൻ മടക്കിലാണ് ഈ ഡാം നിർമ്മിച്ചിരിക്കുന്നത്. ഇടുക്കി ഡാമിന്റെ ജലസംഭരണിയുടെ വിസ്തീർണ്ണം ഏകദേശം 60 ചതുരശ്ര കിലോമീറ്ററാണ്.

ഡാമിന്റെ ചുറ്റുമുള്ള പ്രകൃതിദൃശ്യങ്ങൾ അതിമനോഹരമാണ്. പച്ചപ്പ് നിറഞ്ഞ മലനിരകൾ, തണുത്ത കാറ്റ്, ശാന്തമായ ജലാശയം എന്നിവ സഞ്ചാരികളെ ആകർഷിക്കുന്നു. ഡാമിന്റെ മുകളിൽ നിന്ന് നോക്കുമ്പോൾ താഴെ കാണുന്ന വിശാലമായ ജലസംഭരണിയുടെ കാഴ്ച അവിസ്മരണീയമാണ്.

ഇടുക്കി ഡാം കേരളത്തിന്റെ വൈദ്യുതി ആവശ്യങ്ങളുടെ ഒരു പ്രധാന ഭാഗം നിറവേറ്റുന്നു. ഇത് കേരളത്തിന്റെ സാമ്പത്തിക വികസനത്തിൽ നിർണ്ണായക പങ്ക് വഹിക്കുന്നു. ഡാമിന്റെ ചുറ്റുമുള്ള പ്രദേശം ഇപ്പോൾ ഒരു പ്രധാന വിനോദസഞ്ചാര കേന്ദ്രമായി മാറിയിരിക്കുന്നു.""",
                'author': bloggers[0]
            },
            {
                'title': 'കള്ളാർ മല',
                'content': """കള്ളാർ മല ഇടുക്കിയിലെ ഒരു പ്രധാന ടൂറിസ്റ്റ് ആകർഷണമാണ്. ഇവിടെ നിന്ന് കാണുന്ന സൂര്യോദയം അതിശയിക്കുന്നതാണ്.

കള്ളാർ മലയുടെ ഉയരം സമുദ്രനിരപ്പിൽ നിന്ന് ഏകദേശം 1,000 മീറ്ററാണ്. ഈ മലമുകളിൽ നിന്ന് നോക്കുമ്പോൾ, താഴെ കാണുന്ന വിശാലമായ താഴ്വരകളും, ദൂരെ നിൽക്കുന്ന നീലനിറമുള്ള മലനിരകളും, പച്ചപ്പ് നിറഞ്ഞ കാടുകളും ഒരു അപൂർവ്വ കാഴ്ചയാണ് സമ്മാനിക്കുന്നത്.

പ്രഭാതത്തിൽ, സൂര്യൻ മലകൾക്കപ്പുറത്ത് നിന്ന് ഉയരുമ്പോൾ, ആകാശം ചുവപ്പും ഓറഞ്ചും നിറങ്ങളാൽ നിറയുന്നു. മഞ്ഞുമൂടിയ താഴ്വരകളിലൂടെ സൂര്യരശ്മികൾ കടന്നുവരുന്ന കാഴ്ച അത്യന്തം മനോഹരമാണ്. ഈ അനുഭവം ഒരിക്കലും മറക്കാനാവാത്തതാണ്.

കള്ളാർ മലയിലേക്കുള്ള യാത്ര തന്നെ ഒരു അനുഭവമാണ്. വഴിയിലുടനീളം കാണുന്ന ചെറിയ വെള്ളച്ചാട്ടങ്ങൾ, പുഴകൾ, പച്ചപ്പ് നിറഞ്ഞ കാടുകൾ എന്നിവ യാത്രയെ ആസ്വാദ്യകരമാക്കുന്നു. മലമുകളിൽ എത്തുമ്പോൾ, തണുത്ത കാറ്റും, ശാന്തമായ അന്തരീക്ഷവും, പ്രകൃതിയുടെ സൗന്ദര്യവും നമ്മെ സ്വാഗതം ചെയ്യുന്നു.

കള്ളാർ മല സന്ദർശിക്കാൻ ഏറ്റവും അനുയോജ്യമായ സമയം ഒക്ടോബർ മുതൽ മാർച്ച് വരെയാണ്. ഈ കാലയളവിൽ കാലാവസ്ഥ മിതമായിരിക്കും, മഞ്ഞും കുറവായിരിക്കും. ഇത് പ്രകൃതിസ്നേഹികൾക്കും, ഫോട്ടോഗ്രാഫർമാർക്കും, സാഹസികർക്കും ഒരുപോലെ ആസ്വദിക്കാവുന്ന ഒരു സ്ഥലമാണ്.""",
                'author': bloggers[1]
            },
            {
                'title': 'ഇടുക്കി: മലയുടെ മടിയിലെ സ്വർഗം',
                'content': """ഇടുക്കി, കേരളത്തിലെ ഏറ്റവും മനോഹരമായ ഹില്‍ സ്റ്റേഷനുകളില്‍ ഒന്നാണ്. ഇടുക്കി ജലവൈദ്യുത പദ്ധതി, മൂന്നാറ്, ഇടുക്കി വന്യജീവി സങ്കേതം തുടങ്ങിയവ ഇടുക്കിയിലെ പ്രധാന ആകർഷണങ്ങളാണ്.

കേരളത്തിന്റെ കിഴക്കൻ ഭാഗത്ത് സ്ഥിതി ചെയ്യുന്ന ഇടുക്കി, പശ്ചിമഘട്ടത്തിന്റെ മടിത്തട്ടിൽ സ്ഥിതി ചെയ്യുന്ന ഒരു മനോഹരമായ ജില്ലയാണ്. 'കേരളത്തിന്റെ സ്പൈസ് ഗാർഡൻ' എന്നറിയപ്പെടുന്ന ഇടുക്കി, അതിന്റെ സുഗന്ധവ്യഞ്ജന കൃഷികൾക്കും, ചായ തോട്ടങ്ങൾക്കും, വന്യജീവി സങ്കേതങ്ങൾക്കും, ജലാശയങ്ങൾക്കും പേരുകേട്ടതാണ്.

ഇടുക്കിയിലെ ഏറ്റവും പ്രധാനപ്പെട്ട ആകർഷണം ഇടുക്കി ആർക്ക് ഡാമാണ്. ഏഷ്യയിലെ ഏറ്റവും വലിയ ആർക്ക് ഡാമായ ഇത്, രണ്ട് മലകൾക്കിടയിൽ നിർമ്മിച്ചിരിക്കുന്ന ഒരു എഞ്ചിനീയറിംഗ് അത്ഭുതമാണ്. ഡാമിന്റെ ചുറ്റുമുള്ള പ്രകൃതിദൃശ്യങ്ങൾ അതിമനോഹരമാണ്.

മൂന്നാർ എന്ന ഹിൽ സ്റ്റേഷൻ ഇടുക്കിയിലെ മറ്റൊരു പ്രധാന ആകർഷണമാണ്. മൂന്നാറിലെ വിശാലമായ ചായ തോട്ടങ്ങൾ, തണുത്ത കാലാവസ്ഥ, മഞ്ഞുമൂടിയ മലകൾ എന്നിവ സഞ്ചാരികളെ ആകർഷിക്കുന്നു. ഇവിടെ നിന്ന് കാണുന്ന സൂര്യോദയവും സൂര്യാസ്തമയവും അവിസ്മരണീയമാണ്.

ഇടുക്കി വന്യജീവി സങ്കേതം കേരളത്തിലെ ഏറ്റവും വലിയ വന്യജീവി സങ്കേതങ്ങളില്‍ ഒന്നാണ്. ആനകൾ, കടുവകൾ, കരടികൾ, മലമ്പന്നികൾ, കാട്ടുപോത്തുകൾ തുടങ്ങിയ നിരവധി വന്യജീവികളെ ഇവിടെ കാണാൻ സാധിക്കും. സങ്കേതത്തിലൂടെയുള്ള സഫാരി യാത്ര ഒരു അവിസ്മരണീയ അനുഭവമാണ്.

ഇടുക്കിയിലെ കാലാവസ്ഥ വർഷം മുഴുവൻ മിതമായിരിക്കും. ഇത് എല്ലാ കാലത്തും സന്ദർശിക്കാൻ അനുയോജ്യമാക്കുന്നു. എന്നിരുന്നാലും, ഒക്ടോബർ മുതൽ മാർച്ച് വരെയുള്ള കാലം ഏറ്റവും അനുയോജ്യമാണ്, കാരണം ഈ സമയത്ത് കാലാവസ്ഥ തണുത്തതും വരണ്ടതുമായിരിക്കും.""",
                'author': bloggers[2]
            },
            {
                'title': 'മൂന്നാറും മീനുമുട്ടി ജലവൈദ്യുത പദ്ധതിയും',
                'content': """മൂന്നാറിലെ ജലവൈദ്യുത പദ്ധതി കേരളത്തിലെ ഏറ്റവും വലിയ ജലവൈദ്യുത പദ്ധതികളില്‍ ഒന്നാണ്. മൂന്നാറിന്റെ പ്രകൃതി സൗന്ദര്യം അതിശയിക്കുന്നതാണ്.

മൂന്നാറിന് സമീപം സ്ഥിതി ചെയ്യുന്ന മീനുമുട്ടി ജലവൈദ്യുത പദ്ധതി, കേരളത്തിന്റെ വൈദ്യുതി ആവശ്യങ്ങളുടെ ഒരു പ്രധാന ഭാഗം നിറവേറ്റുന്നു. 1980-കളിൽ നിർമ്മാണം പൂർത്തിയായ ഈ പദ്ധതി, മൂന്നാറിന്റെ പ്രകൃതിസൗന്ദര്യത്തിന് കൂടുതൽ മാറ്റ് കൂട്ടുന്നു.

മീനുമുട്ടി ഡാമിന്റെ ജലസംഭരണി ഒരു വിശാലമായ കായലിനെപ്പോലെയാണ്. ചുറ്റും പച്ചപ്പ് നിറഞ്ഞ മലനിരകൾ, ഇടതൂർന്ന കാടുകൾ, തണുത്ത കാലാവസ്ഥയും ഈ പ്രദേശത്തെ ഒരു സ്വർഗതുല്യമാക്കുന്നു. ഡാമിന്റെ മുകളിൽ നിന്ന് നോക്കുമ്പോൾ, താഴെ കാണുന്ന വിശാലമായ ജലസംഭരണിയും, ദൂരെ നിൽക്കുന്ന മലനിരകളും ഒരു അപൂർവ്വ കാഴ്ചയാണ് സമ്മാനിക്കുന്നത്.

മീനുമുട്ടി ഡാമിലേക്കുള്ള യാത്ര തന്നെ ഒരു അനുഭവമാണ്. വഴിയിലുടനീളം കാണുന്ന ചായ തോട്ടങ്ങൾ, ചെറിയ വെള്ളച്ചാട്ടങ്ങൾ, പുഴകൾ എന്നിവ യാത്രയെ ആസ്വാദ്യകരമാക്കുന്നു. ഡാമിന് സമീപം ഒരു ഗാർഡനും, വിനോദസഞ്ചാരികൾക്കായി ബോട്ടിംഗ് സൗകര്യങ്ങളും ഒരുക്കിയിട്ടുണ്ട്.

മീനുമുട്ടി ജലവൈദ്യുത പദ്ധതി കേരളത്തിന്റെ സാമ്പത്തിക വികസനത്തിൽ നിർണ്ണായക പങ്ക് വഹിക്കുന്നു. ഇത് കേരളത്തിന്റെ വൈദ്യുതി ആവശ്യങ്ങളുടെ ഒരു പ്രധാന ഭാഗം നിറവേറ്റുന്നതിനോടൊപ്പം, ഒരു പ്രധാന വിനോദസഞ്ചാര കേന്ദ്രമായും മാറിയിരിക്കുന്നു.""",
                'author': bloggers[3]
            },
            {
                'title': 'ഇടുക്കി വന്യജീവി സങ്കേതം',
                'content': """ഇടുക്കി വന്യജീവി സങ്കേതം കേരളത്തിലെ ഏറ്റവും വലിയ വന്യജീവി സങ്കേതമാണ്. ഇവിടെ നിരവധി വന്യജീവികളെ കാണാന്‍ സാധിക്കും.

1940-കളിൽ സ്ഥാപിതമായ ഇടുക്കി വന്യജീവി സങ്കേതം, 700 ചതുരശ്ര കിലോമീറ്ററിലധികം വിസ്തീർണ്ണമുള്ള ഒരു വിശാലമായ പ്രദേശമാണ്. പശ്ചിമഘട്ടത്തിന്റെ ഭാഗമായ ഈ സങ്കേതം, അതിന്റെ സമ്പന്നമായ ജൈവവൈവിധ്യത്തിന് പേരുകേട്ടതാണ്.

ഇടുക്കി വന്യജീവി സങ്കേതത്തിൽ ആനകൾ, കടുവകൾ, പുള്ളിപ്പുലികൾ, കരടികൾ, മലമ്പന്നികൾ, കാട്ടുപോത്തുകൾ, മാനുകൾ, കുരങ്ങുകൾ തുടങ്ങിയ നിരവധി വന്യജീവികളെ കാണപ്പെടുന്നു. ഇവിടെ 250-ലധികം പക്ഷി ഇനങ്ങളും, നിരവധി ഉരഗങ്ങളും, ഉഭയജീവികളും കാണപ്പെടുന്നു.

സങ്കേതത്തിലൂടെയുള്ള സഫാരി യാത്ര ഒരു അവിസ്മരണീയ അനുഭവമാണ്. ഇടതൂർന്ന കാടുകളിലൂടെയുള്ള യാത്രയിൽ, വിവിധതരം വന്യജീവികളെയും, പക്ഷികളെയും, സസ്യങ്ങളെയും കാണാൻ സാധിക്കും. സഫാരിക്കിടയിൽ, ഒരു കൂട്ടം ആനകളെയോ, ഒരു പുള്ളിപ്പുലിയെയോ കാണുന്നത് ഒരു അപൂർവ്വ ഭാഗ്യമാണ്.

സങ്കേതത്തിൽ നിരവധി ട്രെക്കിംഗ് പാതകളും, വാച്ച് ടവറുകളും, ക്യാമ്പിംഗ് സൗകര്യങ്ങളും ഒരുക്കിയിട്ടുണ്ട്. ഇവിടെ നിന്ന് കാണുന്ന സൂര്യോദയവും സൂര്യാസ്തമയവും അവിസ്മരണീയമാണ്. സങ്കേതത്തിന്റെ ഭാഗമായ പെരിയാർ നദിയിലൂടെയുള്ള ബോട്ട് യാത്രയും ഒരു മനോഹരമായ അനുഭവമാണ്.

ഇടുക്കി വന്യജീവി സങ്കേതം സന്ദർശിക്കാൻ ഏറ്റവും അനുയോജ്യമായ സമയം ഒക്ടോബർ മുതൽ മാർച്ച് വരെയാണ്. ഈ കാലയളവിൽ കാലാവസ്ഥ മിതമായിരിക്കും, മഴയും കുറവായിരിക്കും. ഇത് വന്യജീവികളെ കാണാൻ ഏറ്റവും അനുയോജ്യമായ സമയമാണ്.""",
                'author': bloggers[4]
            },
        ]

        # Create blog posts
        for post_data in blog_posts:
            post = Blog.objects.create(
                title=post_data['title'],
                content=post_data['content'],
                author=post_data['author'],
                post_date=timezone.now()
            )
            self.stdout.write(f'Created blog post: {post.title}')

            # Add 2-4 random comments to each post
            for _ in range(random.randint(2, 4)):
                commenter = random.choice(bloggers)
                Comment.objects.create(
                    blog=post,
                    author=commenter.user,
                    text=random.choice([
                        "Great post! Really enjoyed reading this.",
                        "Thanks for sharing these insights!",
                        "This brings back so many memories.",
                        "The photos are beautiful! Can't wait to visit.",
                        "Very informative article. Looking forward to more!",
                        "Your description really captures the essence of Kerala.",
                        "This is exactly what I was looking for. Thank you!",
                        "Wonderfully written! Love the details.",
                    ]),
                    post_date=timezone.now()
                )

        self.stdout.write(self.style.SUCCESS('Successfully created sample data'))
